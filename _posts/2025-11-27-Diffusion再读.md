主要分为正向过程和逆向过程，正向过程类似于编码，逆向过程类似于解码。

正向过程加噪声的过程必须加高斯噪声，因为后面运算需要高斯噪声的一些特性，而且噪声是越加越多的。因为一开始图像比较清晰，只需要少量噪声就能扰动，后来图像不清晰，需要加很多噪声才行。
首先，我们会随机生成一个服从高斯分布的噪声图片，然后一步一步的减少噪声直到生成预期图片。

## 正向过程


## 反向过程

就是贝叶斯公式，然后再上一个条件变量

![](../assets/2025-11-27-Diffusion再读/file-20251127154005884.png)对高斯分布进行乘除运算的结果仍然是高斯分布


想手推公式去看https://zhuanlan.zhihu.com/p/610505558


![](../assets/2025-11-27-Diffusion再读/file-20251127155249539.png)
这个是正向的过程

![](../assets/2025-11-27-Diffusion再读/file-20251127155320864.png)
这个上反向过程估计出来的$X_{t-1}$ 的高斯分布的均值和方差



训练我们需要有真实值和预测值，那么对于本例的真实值和预测值是什么呢？真实值是我们输入的图片，预测值是我们输出的图片吗？其实不是，这里我就不和大家卖关子了。对于本例来说，真实值和预测值都是噪声，我们同样拿下图为大家做个示范。


训练与采样的区别？

训练时搞一个噪声

采样好像是跟反向有关？


网络学习的实际上是符合标准高斯分布的Zt，所以我有点理解不了那还要网络学习什么，标准高斯分布不是已经知道了吗？
**条件生成（Conditional Generation）**：模型在生成数据时需要根据给定的条件来决定生成的内容
**非条件生成（Unconditional Generation）**：与之相对，非条件生成指的是模型在没有任何外部条件的情况下生成数据。模型只是简单地从其学习到的数据分布中采样，生成样本。这种生成方式不依赖于任何特定的输入条件。

在扩散模型中，每一步的输入是带有一定噪声的图像（从完全随机噪声开始逐步还原），网络的任务是从这个带噪声的图像中预测出当前步骤的噪声